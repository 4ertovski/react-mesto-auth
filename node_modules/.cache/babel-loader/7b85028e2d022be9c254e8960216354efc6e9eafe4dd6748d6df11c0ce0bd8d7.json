{"ast":null,"code":"var _jsxFileName = \"/Users/les/dev/react-mesto-auth/src/components/App.js\",\n  _s = $RefreshSig$();\nimport '../index.css';\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { useNavigate, Route, Routes, Navigate } from \"react-router-dom\";\nimport * as auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [selectedCard, setSelectedCard] = useState({\n    link: \"\",\n    name: \"\",\n    isOpen: false\n  });\n  const [selectedCardDelete, setSelectedCardDelete] = useState({});\n\n  //TODO utils\n  // const [dataIsLoaded, setDataIsLoaded] = useState(false);\n  // const [dataLoadingError, setDataLoadingError] = useState(\"\");\n  // const [isLoading, setIsLoading] = useState(false);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [error, setError] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const navigate = useNavigate();\n\n  ////////TODO AUTH\n\n  useEffect(() => {\n    const cachedUser = localStorage.getItem(\"cachedUser\");\n    if (cachedUser) {\n      auth.checkToken(cachedUser).then(res => {\n        if (res) {\n          setIsLoggedIn(true);\n          navigate(\"/\");\n          setUserEmail(res.data.email);\n        }\n      }).catch(error => console.log(error));\n    }\n  }, [navigate]);\n  useEffect(() => {\n    isLoggedIn && Promise.all([api.getUserInfo(), api.getInitialCards()]).then(_ref => {\n      let [user, cards] = _ref;\n      setCurrentUser(user);\n      setCards(cards);\n      //TODO is loaded\n    }).catch(error => {\n      //TODO loading error\n      console.log(error);\n    });\n  }, [isLoggedIn]);\n  const handleRegister = values => {\n    if (!values.email || !values.password) {\n      return;\n    }\n    auth.register(values.email, values.password).then(res => {\n      setError(false);\n      setIsInfoTooltipOpen(prev => !prev);\n      navigate(\"/sign-in\", {\n        replace: true\n      });\n    }).catch(error => {\n      setError(true);\n      setIsInfoTooltipOpen(prev => !prev);\n      console.log(error);\n    });\n  };\n  const handleLogin = values => {\n    if (!values.email || !values.password) {\n      return;\n    }\n    auth.authorize(values.email, values.password).then(data => {\n      if (data.token) {\n        setIsLoggedIn(true);\n        localStorage.setItem(\"cachedUser\", data.token);\n        setUserEmail(values.email);\n        navigate(\"/\");\n      }\n    }).catch(Error => {\n      setError(true);\n      setIsInfoTooltipOpen(prev => !prev);\n      console.log(error);\n    });\n  };\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setUserEmail(\"\");\n    localStorage.removeItem(\"cachedUser\");\n  };\n\n  ///////END AUTH\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      link: card.link,\n      name: card.name,\n      isOpen: true\n    }); //TODO test with card\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpen(!isDeleteCardPopupOpen);\n    setSelectedCardDelete(card);\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      api.putLike(card._id).then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      }).catch(err => console.log(err));\n    } else {\n      api.deleteLike(card._id).then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      }).catch(err => console.log(err));\n    }\n  }\n  function handleCardDelete() {\n    api.deleteCard(selectedCardDelete._id).then(() => {\n      const newCards = cards.filter(c => c._id !== selectedCardDelete._id);\n      setCards(newCards);\n      setSelectedCardDelete({});\n    }).then(() => {\n      closeAllPopups();\n    }).catch(err => console.log(err));\n  }\n  function handleUpdateUser(data) {\n    //TODO is loading\n    api.patchUserProfile(data).then(() => {\n      setCurrentUser({\n        ...currentUser,\n        ...data\n      });\n      closeAllPopups();\n    }).catch(err => console.log(err));\n    //TODO finally is loading\n  }\n\n  function handleUpdateAvatar(data) {\n    //TODO is loading\n    api.patchAvatar(data).then(res => {\n      setCurrentUser(res);\n      closeAllPopups(); //TODO del?\n    })\n    // .then(() => { TODO uncomment?\n    //     setIsEditAvatarPopupOpen(false);\n    // })\n    .catch(err => console.log(err));\n    //TODO finally is loading\n  }\n\n  function handleAddPlaceSubmit(card) {\n    //TODO is loading\n    api.postUserCard(card).then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch(err => console.log(err));\n    //TODO finally is loading\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard({\n      link: \"\",\n      name: \"\",\n      isOpen: false\n    });\n    setIsInfoTooltipOpen(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUser,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        email: userEmail,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            element: Main,\n            loggedIn: isLoggedIn,\n            onEditProfile: handleEditProfileClick,\n            onEditAvatar: handleEditAvatarClick,\n            onAddPlace: handleAddPlaceClick,\n            onCardClick: handleCardClick,\n            onCardLike: handleCardLike,\n            onCardDelete: handleDeleteCardClick,\n            cards: cards\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 29\n          }, this) //TODO add dataIsLoaded dataLoadingError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          element: /*#__PURE__*/_jsxDEV(Register, {\n            onRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-in\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin,\n            setError: setError,\n            setIsInfoTooltipOpen: setIsInfoTooltipOpen,\n            setUserEmail: setUserEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        name: \"img\",\n        card: selectedCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        onAddPlace: handleAddPlaceSubmit,\n        onClose: closeAllPopups,\n        isOpen: isAddPlacePopupOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        onUpdateAvatar: handleUpdateAvatar,\n        onClose: closeAllPopups,\n        isOpen: isEditAvatarPopupOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        onUpdateUser: handleUpdateUser,\n        onClose: closeAllPopups,\n        isOpen: isEditProfilePopupOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DeleteCardPopup, {\n        onClose: closeAllPopups,\n        isOpen: isDeleteCardPopupOpen,\n        onDeleteCard: handleCardDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: isInfoToolTipOpen,\n        onClose: closeAllPopups,\n        err: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"Dq+aUTc4AjrzdeAacQ7gYQ9Mf/k=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["api","CurrentUserContext","useState","useEffect","Header","Main","Footer","ImagePopup","AddPlacePopup","EditProfilePopup","EditAvatarPopup","DeleteCardPopup","InfoTooltip","Login","Register","ProtectedRoute","useNavigate","Route","Routes","Navigate","auth","jsxDEV","_jsxDEV","App","_s","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoToolTipOpen","setIsInfoTooltipOpen","cards","setCards","currentUser","setCurrentUser","selectedCard","setSelectedCard","link","name","isOpen","selectedCardDelete","setSelectedCardDelete","isLoggedIn","setIsLoggedIn","error","setError","userEmail","setUserEmail","navigate","cachedUser","localStorage","getItem","checkToken","then","res","data","email","catch","console","log","Promise","all","getUserInfo","getInitialCards","_ref","user","handleRegister","values","password","register","prev","replace","handleLogin","authorize","token","setItem","Error","handleLogout","removeItem","handleCardClick","card","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleDeleteCardClick","handleCardLike","isLiked","likes","some","i","_id","putLike","newCard","newCards","map","c","err","deleteLike","handleCardDelete","deleteCard","filter","closeAllPopups","handleUpdateUser","patchUserProfile","handleUpdateAvatar","patchAvatar","handleAddPlaceSubmit","postUserCard","className","children","Provider","value","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","path","element","loggedIn","onEditProfile","onEditAvatar","onAddPlace","onCardClick","onCardLike","onCardDelete","onRegister","onLogin","to","onClose","onUpdateAvatar","onUpdateUser","onDeleteCard","_c","$RefreshReg$"],"sources":["/Users/les/dev/react-mesto-auth/src/components/App.js"],"sourcesContent":["import '../index.css';\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useState,useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport {useNavigate, Route, Routes ,Navigate} from \"react-router-dom\";\nimport * as auth from '../utils/auth';\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n    const [isInfoToolTipOpen, setIsInfoTooltipOpen] = useState(false);\n\n    const [cards, setCards] = useState([]);\n    const [currentUser, setCurrentUser] = useState({});\n    const [selectedCard, setSelectedCard] = useState({link: \"\", name: \"\", isOpen: false});\n    const [selectedCardDelete, setSelectedCardDelete] = useState({});\n\n    //TODO utils\n    // const [dataIsLoaded, setDataIsLoaded] = useState(false);\n    // const [dataLoadingError, setDataLoadingError] = useState(\"\");\n    // const [isLoading, setIsLoading] = useState(false);\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [error, setError] = useState(false);\n    const [userEmail, setUserEmail] = useState('');\n    const navigate = useNavigate();\n\n    ////////TODO AUTH\n\n    useEffect(() => {\n        const cachedUser = localStorage.getItem(\"cachedUser\");\n        if (cachedUser){\n            auth\n                .checkToken(cachedUser)\n                .then((res) => {\n                    if (res) {\n                        setIsLoggedIn(true);\n                        navigate(\"/\");\n                        setUserEmail(res.data.email);\n                    }\n                })\n                .catch((error) => console.log(error));\n        }\n    }, [navigate]);\n\n    useEffect(() => {\n        isLoggedIn &&\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n            .then(([user, cards])=>{\n                setCurrentUser(user);\n                setCards(cards);\n                //TODO is loaded\n            })\n            .catch((error) => {\n                //TODO loading error\n                console.log(error)\n            })\n    }, [isLoggedIn]);\n\n\n    const handleRegister = (values) =>{\n        if (!values.email || !values.password){\n            return;\n        }\n        auth\n            .register(values.email, values.password)\n            .then((res) => {\n                setError(false);\n                setIsInfoTooltipOpen((prev) => !prev);\n                navigate(\"/sign-in\", { replace: true });\n            })\n            .catch((error) => {\n                setError(true);\n                setIsInfoTooltipOpen((prev) => !prev);\n                console.log(error);\n            })\n    }\n\n    const handleLogin = (values) => {\n        if (!values.email || !values.password){\n            return;\n        }\n        auth\n            .authorize(values.email, values.password)\n            .then((data) => {\n                if (data.token) {\n                    setIsLoggedIn(true);\n                    localStorage.setItem(\"cachedUser\", data.token);\n                    setUserEmail(values.email);\n                    navigate(\"/\")\n                }\n            })\n            .catch((Error) => {\n                setError(true);\n                setIsInfoTooltipOpen((prev) => !prev);\n                console.log(error);\n            })\n    }\n\n    const handleLogout = () => {\n        setIsLoggedIn(false);\n        setUserEmail(\"\");\n        localStorage.removeItem(\"cachedUser\");\n    };\n\n    ///////END AUTH\n\n    function handleCardClick(card) {\n        setSelectedCard({link: card.link, name: card.name, isOpen: true}); //TODO test with card\n    }\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n    }\n\n    function handleDeleteCardClick(card) {\n        setIsDeleteCardPopupOpen(!isDeleteCardPopupOpen);\n        setSelectedCardDelete(card);\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n        if (!isLiked) {\n            api.putLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n                    setCards(newCards)\n                })\n                .catch(err => console.log(err));\n\n        } else {\n            api.deleteLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n                    setCards(newCards)\n                })\n                .catch(err => console.log(err));\n        }\n    }\n    function handleCardDelete() {\n        api.deleteCard(selectedCardDelete._id)\n            .then(() => {\n                const newCards = cards.filter((c) => c._id !== selectedCardDelete._id);\n                setCards(newCards);\n                setSelectedCardDelete({});\n            })\n            .then(() => {\n                closeAllPopups();\n            })\n            .catch(err => console.log(err));\n    }\n    function handleUpdateUser(data) {\n        //TODO is loading\n        api.patchUserProfile(data)\n            .then(() => {\n                setCurrentUser({...currentUser, ...data});\n                closeAllPopups();\n            })\n            .catch(err => console.log(err));\n        //TODO finally is loading\n    }\n\n    function handleUpdateAvatar(data) {\n        //TODO is loading\n        api.patchAvatar(data)\n            .then(res => {\n                setCurrentUser(res);\n                closeAllPopups(); //TODO del?\n            })\n            // .then(() => { TODO uncomment?\n            //     setIsEditAvatarPopupOpen(false);\n            // })\n            .catch(err => console.log(err));\n        //TODO finally is loading\n    }\n\n    function handleAddPlaceSubmit(card) {\n        //TODO is loading\n        api.postUserCard(card)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch(err => console.log(err));\n        //TODO finally is loading\n    }\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false)\n        setIsEditAvatarPopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setIsDeleteCardPopupOpen(false)\n        setSelectedCard({link: \"\", name: \"\", isOpen: false});\n        setIsInfoTooltipOpen(false);\n    }\n\n\n    return (\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <Header email={userEmail} onLogout={handleLogout}/>\n                <Routes>\n                    <Route\n                        path=\"/\"\n                        element={\n                            <ProtectedRoute\n                                element={Main}\n                                loggedIn={isLoggedIn}\n                                onEditProfile={handleEditProfileClick}\n                                onEditAvatar={handleEditAvatarClick}\n                                onAddPlace={handleAddPlaceClick}\n                                onCardClick={handleCardClick}\n                                onCardLike = {handleCardLike}\n                                onCardDelete = {handleDeleteCardClick}\n                                cards = {cards}/> //TODO add dataIsLoaded dataLoadingError\n                        }\n                    />\n                    <Route path=\"/sign-up\" element={<Register onRegister={handleRegister}/>}/>\n                    <Route path=\"/sign-in\" element={<Login\n                        onLogin={handleLogin}\n                        setError={setError}\n                        setIsInfoTooltipOpen={setIsInfoTooltipOpen}\n                        setUserEmail={setUserEmail}\n                    />}/>\n                    <Route path=\"*\" element={<Navigate to=\"/\"/>}/>\n                </Routes>\n             < Footer />\n                <ImagePopup\n                    name=\"img\"\n                    card={selectedCard}\n                    onClose={closeAllPopups}/>\n                <AddPlacePopup\n                    onAddPlace={handleAddPlaceSubmit}\n                    onClose={closeAllPopups}\n                    isOpen={isAddPlacePopupOpen}\n                />\n                <EditAvatarPopup\n                    onUpdateAvatar={handleUpdateAvatar}\n                    onClose={closeAllPopups}\n                    isOpen={isEditAvatarPopupOpen}/>\n                <EditProfilePopup\n                    onUpdateUser={handleUpdateUser}\n                    onClose={closeAllPopups}\n                    isOpen={isEditProfilePopupOpen}/>\n                <DeleteCardPopup\n                    onClose={closeAllPopups}\n                    isOpen={isDeleteCardPopupOpen}\n                    onDeleteCard={handleCardDelete}/>\n                {/*    TODO add confirmation popup and infoToolptip*/}\n                <InfoTooltip\n                    isOpen={isInfoToolTipOpen}\n                    onClose={closeAllPopups}\n                    err={error}/>\n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}